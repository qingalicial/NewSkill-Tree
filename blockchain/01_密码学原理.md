# 一、密码学原理
## 1 密码学的三大发展阶段
- 第一阶段：古典密码学 ：数据的安全基于算法的保密
- 第二极端：1945-1975年 ：数据的安全基于秘钥而不是算法的保密
- 第三阶段：1976年-至今：公钥密码使得发送端和接收端无秘钥传输的保密通信成为可能


## 2 对称加密算法DES 3DES
原理：使用同一密钥进行加密和解密
优势：加解密速度快，密文是紧凑的，安全
问题：怎么把密钥传递？
缺点：密钥分发 、存储和管理，缺乏对数字签名、不可否认的支持

### 2.1 著名对称加密算法
- DES需要在一个安全的信道交换密钥，需要经常修改密钥防止暴力破解
- 3DES 密钥长度放大3倍，暴力破解几乎不可能，安全，但会增加延时，语音视频不适用
- AES 适合高速网络，适合硬件上使用，可以用于无线语音视频加密
- Blowfish 密钥长度可变，适用于密钥不经常改变的加密
- 国密算法 H3w
## 3 非对称加密算法
### 3.1 公钥加密技术
- 公钥加密使用两个密钥，一个用于加密信息，另一个用于解密
- 公钥比私钥加密出现晚
### 3.2 公钥加密算法（非对称加密算法）
- 私钥需要安全保存
- 公钥公开
- 加密速度慢
- 可以与对称加密相结合

### 3.3 著名非对称加密算法

- RSA
- DH
密钥生成算法AGen输出一个公钥和私钥对（apk，ask），ask需要秘密的保存，apk可以公开发给对方
密钥协商算法Agree以一方的公钥apk和自己的私钥ask作为输入，计算出一个密钥K

## 4 数字签名,数字证书与CA
数字证书：类似身份证的作用，包含了证书有效期，所有者公钥，认证机构数据签名
CA：电子商务认证授权机构
## 5 哈希与HMAC MD5 SHA
- 将一段数据（任意长度）经过计算，转为定长数据
- 不可逆（单向），几乎无法通过hash结果推导原文
- 雪崩效应，输入轻微变化，hash输出值产生巨大变化

使用场景：
- 发布文件的完整性验证
- 服务器中保存用户的密码
## 6 对称与非对称加密完美融合
对称加密算法的缺点：秘钥分发、存储和管理。缺乏对数字签名的支持
非对称加密算法的问题：     
优点： 无需私钥传送，天然防窃听 ，支持数字签名 ；    
缺点：加密速度慢，密文非紧凑

两者结合，对称加密算法对大文件进行加密，非对称加密算法对密钥进行加密
# 二、区块链与比特币的前世今生
## 区块链和比特币的关系
- 区块链是一种技术集合，比特币是基于区块链的一种应用
- 区块装交易信息就是比特币，区块也可以装其他内容，将来会有各种应用

## 比特币的起源
- 中本聪
- 去中心化，P2P分布式的数字货币系统
- 共识机制，POw工作量证明
- 运用非对称密码学
- 区块链作为账本

## 中心化的代表：银行

中心化的问题：
- 改朝换代，央行可以无穷无尽的印钞票，通货膨胀，银行可以随意冻结你的资产

比特币是一个完全脱离银行，只依靠互联网运行的货币系统，即使是政府执法部门，也无法查封或没收比特币。比特币在人类历史上第一次使用技术手段保证了私有财产神圣不可侵犯

## 比特币的特性
- 01 硬通货：跨境交易
- 02 易携带：只需要一个私钥
- 03 隐秘性：只暴露钱包地址，非法用途
- 04 无货币超发：通货紧缩


## 区块链的结构
### 区块：
比特币区块中封装交易信息

### 区块链
版本号+父区块哈希+Merkle树根+时间戳+难度值+Nonce

## 区块链比特币常用术语
- 比特币的交易方式：去中心化的账本管理方式，所有人账本一致
- 挖矿：在全网中和其他节点竞争记账的过程；获得记账的权利，以及广播区块的义务；获得的奖励是12.5BTC，收取交易费用
- 创世区块：比特币区块链的第一个区块，所有链的祖先块
- Coinbase 
  美国比特币交易所 ： https://www.coinbase.com/ 
  挖矿产生的原始比特币，从每次50，25到现在的12.5BT
- -区块高度/深度 一个交易如果确认深度大于6，交易非常安全，不可更改/撤销！
- 交易确认
  在当一项交易被区块收录后，就是交易确认
  在此区块之后每产生一个区块，此项交易的确认数相应加1
  比特币钱包对交易确认数有相应设置（快速2次确认，非常安全6次确认收到钱

# 三、比特币交易锁定解锁全过程
比特币的本质，未话费交易输出UTXO （unspent TransXption Output)

- UTXO 用比特币拥有者的公钥锁定（加密）的一个数字
- UTXO = 比特币 （锁定脚本+数字）
   比特币系统中没有比特币，只有UTXO；也没有账户，没有登录概念， 私钥=》公钥=》比特币地址
- 转账将消耗你自己的UTXO，同时生成新的UTXO，并用接受者的公钥锁定
# 4 区块生成与连接

# 5 区块链分叉

# 6 三类地址公钥私钥 钱包地址

# 7 挖矿 矿池

# 8 共识算法与激励机制
